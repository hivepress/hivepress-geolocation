hivepress.initGeolocation=function(){!function(t){"use strict";t(document).ready(function(){hivepress.getComponent("location").each(function(){var e=t(this),o=e.find("input[type=text]"),n=e.find("a");o.geocomplete({details:o.closest("form"),detailsAttribute:"data-coordinate",componentRestrictions:{country:e.data("countries")}}),o.on("input",function(){o.val()||e.closest("form").find("input[data-coordinate]").val("")}),navigator.geolocation?n.on("click",function(t){navigator.geolocation.getCurrentPosition(function(t){o.geocomplete("find",t.coords.latitude+" "+t.coords.longitude)}),t.preventDefault()}):n.hide()}),hivepress.getComponent("map").each(function(){var e=t(this),o=!1,n=[],i=new google.maps.LatLngBounds,a=new google.maps.Map(e.get(0),{zoom:3,minZoom:2,maxZoom:18,mapTypeControl:!1,streetViewControl:!1,center:{lat:0,lng:0},styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]});e.height(e.width()),t.each(e.data("markers"),function(t,e){var s=new google.maps.InfoWindow({content:e.content}),r=new google.maps.Marker({title:e.title,position:{lat:e.latitude,lng:e.longitude}});r.addListener("click",function(){o&&o.close(),o=s,s.open(a,r)}),i.extend(r.getPosition()),n.push(r)}),a.fitBounds(i);new MarkerClusterer(a,n,{imagePath:hivepressGeolocationData.assetURL+"/images/markerclustererplus/m"})})})}(jQuery)};
