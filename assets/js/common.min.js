hivepress.initGeolocation=function(){!function(t){"use strict";t(document).ready(function(){hivepress.getComponent("location").each(function(){var o=t(this),e=o.find("input[type=text]"),n=o.find("a");e.geocomplete({details:e.closest("form"),detailsAttribute:"data-coordinate"}),e.on("input",function(){e.val()||o.closest("form").find("input[data-coordinate]").val("")}),navigator.geolocation?n.on("click",function(t){navigator.geolocation.getCurrentPosition(function(t){e.geocomplete("find",t.coords.latitude+" "+t.coords.longitude)}),t.preventDefault()}):n.hide()}),hivepress.getComponent("map").each(function(){var o=t(this),e=!1,n=new google.maps.LatLngBounds,i=new google.maps.Map(o.get(0),{zoom:3,minZoom:3,maxZoom:15,mapTypeControl:!1,streetViewControl:!1,center:{lat:0,lng:0},styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]});o.height(o.width()),t.each(o.data("markers"),function(t,o){var a=new google.maps.InfoWindow({content:o.content}),s=new google.maps.Marker({map:i,title:o.title,position:{lat:o.latitude,lng:o.longitude}});s.addListener("click",function(){e&&e.close(),e=a,a.open(i,s)}),n.extend(s.getPosition())}),i.fitBounds(n)})})}(jQuery)};
